# Guide de mise à niveau de Gramps 5.2

**Gramps 5.2** a été publié le 23 février 2024. Comme il utilise un nouveau schéma de base de données d'arbre généalogique par rapport à Gramps 5.1, des étapes supplémentaires sont nécessaires lors de la mise à niveau de Gramps Web pour être utilisé avec Gramps 5.2. Cette page décrit les étapes nécessaires.

## Aperçu des étapes

Voici un aperçu des étapes requises pour la mise à niveau.  
Il montre également quelles étapes sont exécutées par l'administrateur du serveur Gramps Web, le propriétaire de l'arbre généalogique, et si cela est nécessaire uniquement pour les utilisateurs de l'[addon de synchronisation](../administration/sync.md).

Administrateur du serveur | Propriétaire de l'arbre  | Action
----|----|----
&nbsp; | ✓ | Sauvegarder votre arbre généalogique
&nbsp; | ✓ <sup>1</sup> |  [Synchroniser Gramps Web avec Gramps Desktop](../administration/sync.md)
✓ |  | [Mettre à jour Gramps Web](update.md)
&nbsp; | ✓ | Mettre à jour le schéma de base de données de l'arbre
&nbsp; | ✓ <sup>1</sup> | Mettre à jour Gramps Desktop
&nbsp; | ✓ <sup>1</sup> | Installer l'addon de synchronisation mis à jour
&nbsp; | ✓ | Sauvegarder votre arbre généalogique
&nbsp; | ✓ <sup>1</sup> | [Synchroniser Gramps Web avec Gramps Desktop](../administration/sync.md)

<sup>1</sup> Nécessaire uniquement si vous synchronisez Gramps Web avec Gramps Desktop.

## Aperçu de l'état de la version

Le tableau suivant donne un aperçu de la date de sortie des composants nécessaires pour Gramps Web avec Gramps 5.2.

Composant | Publié
---|---
Gramps 5.2.0 | 2024-02-23 ✓
Addon de synchronisation Gramps Web 1.0.4 pour Gramps 5.2 | 2024-02-23 ✓
API Gramps Web 2.0.0 | 2024-02-28 ✓
Gramps Web 23.3.0 | 2024-02-28 ✓

## Étapes détaillées

Cette section fournit plus de détails sur certaines des étapes individuelles ci-dessus.

### Sauvegarder votre arbre généalogique

Dans Gramps Web, allez à la page "Exporter" et sélectionnez "Gramps XML (arbre généalogique)" (l'option par défaut). Cliquez sur "Générer" et attendez que le téléchargement du fichier .gramps commence.

Vous pouvez également créer une sauvegarde dans Gramps Desktop [de la manière habituelle](https://www.gramps-project.org/wiki/index.php/How_to_make_a_backup).

### Mettre à jour le schéma de base de données de l'arbre

Lorsque vous accédez à Gramps Web pour la première fois après l'avoir mis à niveau, un écran affichant le message suivant s'affichera :

> L'arbre généalogique que vous essayez de charger est dans une version de schéma non supportée par cette version de Gramps Web. Par conséquent, vous ne pouvez pas charger cet arbre généalogique sans mettre à niveau son schéma. Cette action ne peut pas être annulée.

Vous pouvez maintenant cliquer sur le bouton "Mettre à niveau l'arbre généalogique". Cela affichera une barre de progression et ne devrait pas prendre plus d'une minute pour se terminer. Ne vous inquiétez pas, si vous fermez accidentellement votre fenêtre de navigateur, la conversion continuera en arrière-plan.

!!! avertissement
    Si vous utilisez une configuration non standard *sans* file d'attente de tâches en arrière-plan, la mise à niveau de la base de données pourrait échouer et votre arbre généalogique pourrait être corrompu. Vous pouvez vérifier (avant de mettre à jour Gramps Web) si vous utilisez une file d'attente de tâches en arrière-plan en allant dans la section "Informations système" dans les paramètres et en vous assurant qu'elle indique "file d'attente de tâches : true".

### Mettre à jour Gramps Desktop

Suivez les instructions d'installation de Gramps Desktop pour votre système d'exploitation.

### Installer l'addon de synchronisation mis à jour

Vous pouvez utiliser [le nouveau Gestionnaire de plugins](https://gramps-project.org/wiki/index.php/Addon:Plugin_Manager) inclus dans Gramps 5.2 - il suffit de rechercher Gramps Web Sync, de cliquer sur installer, et de redémarrer Gramps.
