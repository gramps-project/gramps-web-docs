# Руководство по обновлению Gramps 6.0

Gramps 6.0 был выпущен 19 марта 2025 года. Поскольку он использует новую схему базы данных семейного дерева по сравнению с Gramps 5.2, для обновления Gramps Web для использования с Gramps 6.0 необходимы дополнительные шаги. Эта страница описывает необходимые шаги.

!!! info
    Последнее обновление: 4 мая 2025 года


## Обзор шагов


Это обзор шагов, необходимых для обновления. 
Он также показывает, какие шаги выполняет администратор сервера Gramps Web, владелец семейного дерева и требуется ли это только для пользователей [дополнения синхронизации](../administration/sync.md)

Администратор сервера | Владелец дерева  | Действие
----|----|----
&nbsp; | ✓ | Создайте резервную копию вашего семейного дерева
&nbsp; | ✓ <sup>1</sup> |  [Синхронизируйте Gramps Web с Gramps Desktop](../administration/sync.md)
✓ |  | [Обновите Gramps Web](update.md)
&nbsp; | ✓ | Обновите схему базы данных дерева
&nbsp; | ✓ <sup>1</sup> | Обновите Gramps Desktop
&nbsp; | ✓ <sup>1</sup> | Установите обновленное дополнение Sync
&nbsp; | ✓ | Создайте резервную копию вашего семейного дерева
&nbsp; | ✓ <sup>1</sup> | [Синхронизируйте Gramps Web с Gramps Desktop](../administration/sync.md)


<sup>1</sup> Необходимо только в том случае, если вы синхронизируете Gramps Web с Gramps Desktop.


## Обзор статуса релиза

Следующая таблица дает обзор того, когда были выпущены компоненты, необходимые для Gramps Web с Gramps 6.0.

Компонент | Выпущен
---|---
Gramps 6.0.1 | 2025-04-18
Gramps Web API 3.0.0 | 2025-05-04
Gramps Web (Frontend) 25.5.0 | &ndash;
Gramps Web Sync Addon 1.3.2 | 2025-04-30
SharedPostgreSQL Addon 0.1.12 | 2025-03-20


## Подробные шаги

Этот раздел предоставляет более подробную информацию о некоторых из отдельных шагов выше.

### Создайте резервную копию вашего семейного дерева

В Gramps Web перейдите на страницу "Экспорт" и выберите "Gramps XML (семейное дерево)" (по умолчанию). Нажмите "Сгенерировать" и дождитесь начала загрузки файла .gramps.

Вы также можете создать резервную копию в Gramps Desktop [обычным способом](https://www.gramps-project.org/wiki/index.php/How_to_make_a_backup).

### Обновите схему базы данных дерева

Когда вы впервые получите доступ к Gramps Web после его обновления, вам будет представлено окно с сообщением:

> Семейное дерево, которое вы пытаетесь загрузить, находится в версии схемы, не поддерживаемой этой версией Gramps Web. Поэтому вы не можете загрузить это семейное дерево без обновления его схемы. Это действие нельзя отменить.

Теперь вы можете нажать кнопку "Обновить семейное дерево". Появится индикатор выполнения, и это не должно занять больше минуты. Не беспокойтесь, если вы случайно закроете окно браузера, преобразование продолжится в фоновом режиме.

!!! warning
    Если вы используете нестандартную настройку *без* очереди фоновых задач, обновление базы данных может завершиться неудачей, и ваше семейное дерево может быть повреждено. Вы можете проверить (перед обновлением Gramps Web), используете ли вы очередь фоновых задач, перейдя в раздел "Системная информация" в настройках и убедившись, что там указано "task queue: true".


### Обновите Gramps Desktop

Следуйте инструкциям по установке Gramps Desktop для вашей операционной системы.

### Установите обновленное дополнение Sync

Вы можете использовать Менеджер плагинов в Gramps 6.0 для установки дополнения синхронизации Gramps Web. Найдите Gramps Web Sync, нажмите установить и перезапустите Gramps.
