# Руководство по обновлению Gramps 5.2

**Gramps 5.2** был выпущен 23 февраля 2024 года. Поскольку он использует новую схему базы данных семейного дерева по сравнению с Gramps 5.1, при обновлении Gramps Web для использования с Gramps 5.2 необходимо выполнить дополнительные шаги. Эта страница описывает необходимые шаги.

## Обзор шагов

Это обзор шагов, необходимых для обновления.  
Также показано, какие шаги выполняет администратор сервера Gramps Web, владелец семейного дерева и нужно ли это только для пользователей [дополнения синхронизации](../administration/sync.md)

Администратор сервера | Владелец дерева  | Действие
----|----|----
&nbsp; | ✓ | Создайте резервную копию вашего семейного дерева
&nbsp; | ✓ <sup>1</sup> |  [Синхронизируйте Gramps Web с Gramps Desktop](../administration/sync.md)
✓ |  | [Обновите Gramps Web](update.md)
&nbsp; | ✓ | Обновите схему базы данных дерева
&nbsp; | ✓ <sup>1</sup> | Обновите Gramps Desktop
&nbsp; | ✓ <sup>1</sup> | Установите обновленное дополнение Sync
&nbsp; | ✓ | Создайте резервную копию вашего семейного дерева
&nbsp; | ✓ <sup>1</sup> | [Синхронизируйте Gramps Web с Gramps Desktop](../administration/sync.md)

<sup>1</sup> Необходимо только если вы синхронизируете Gramps Web с Gramps Desktop.

## Обзор статуса выпуска

Следующая таблица дает обзор того, когда были выпущены компоненты, необходимые для Gramps Web с Gramps 5.2.

Компонент | Выпущен
---|---
Gramps 5.2.0 | 2024-02-23 ✓
Gramps Web Sync Addon 1.0.4 для Gramps 5.2 | 2024-02-23 ✓
Gramps Web API 2.0.0 | 2024-02-28 ✓
Gramps Web 23.3.0 | 2024-02-28 ✓

## Подробные шаги

Этот раздел предоставляет больше деталей о некоторых из отдельных шагов выше.

### Создайте резервную копию вашего семейного дерева

В Gramps Web перейдите на страницу "Экспорт" и выберите "Gramps XML (семейное дерево)" (опция по умолчанию). Нажмите "Сгенерировать" и дождитесь, пока начнется загрузка файла .gramps.

Вы также можете создать резервную копию в Gramps Desktop [обычным способом](https://www.gramps-project.org/wiki/index.php/How_to_make_a_backup).

### Обновите схему базы данных дерева

Когда вы впервые получите доступ к Gramps Web после его обновления, вам будет показан экран с сообщением:

> Семейное дерево, которое вы пытаетесь загрузить, находится в версии схемы, не поддерживаемой этой версией Gramps Web. Поэтому вы не можете загрузить это семейное дерево без обновления его схемы. Это действие нельзя отменить.

Теперь вы можете нажать кнопку "Обновить семейное дерево". Появится индикатор выполнения, и это не должно занять более минуты. Не беспокойтесь, если вы случайно закроете окно браузера, преобразование продолжится в фоновом режиме.

!!! warning
    Если вы используете нестандартную настройку *без* очереди фоновых задач, обновление базы данных может завершиться неудачей, и ваше семейное дерево может быть повреждено. Вы можете проверить (перед обновлением Gramps Web), используете ли вы очередь фоновых задач, перейдя в раздел "Информация о системе" в настройках и убедившись, что там указано "очередь задач: true".

### Обновите Gramps Desktop

Следуйте инструкциям по установке Gramps Desktop для вашей операционной системы.

### Установите обновленное дополнение Sync

Вы можете использовать [новый Менеджер плагинов](https://gramps-project.org/wiki/index.php/Addon:Plugin_Manager), включенный в Gramps 5.2 - просто найдите Gramps Web Sync, нажмите установить и перезапустите Gramps.
