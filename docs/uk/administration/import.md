## Підготуйте свою базу даних Gramps

Якщо ви використовуєте Gramps Desktop, є два кроки для підготовки вашої бази даних, щоб переконатися, що все працюватиме без збоїв далі. Якщо ви мігруєте з іншої програми генеалогії, ви можете пропустити цей крок.

1. Перевірте та відремонтуйте базу даних
    - Додатково: створіть резервну копію бази даних, експортувавши в Gramps XML
    - Запустіть [інструмент перевірки та ремонту бази даних](https://gramps-project.org/wiki/index.php/Gramps_5.2_Wiki_Manual_-_Tools#Check_and_Repair_Database). Це виправляє деякі внутрішні несумісності, які можуть призвести до проблем у Gramps Web.
2. Перетворіть медіа-шляхи на відносні
    - Використовуйте Gramps Media Manager, щоб [перетворити всі медіа-шляхи з абсолютних на відносні](https://gramps-project.org/wiki/index.php/Gramps_5.2_Wiki_Manual_-_Tools#Convert_paths_from_relative_to_absolute). Зверніть увагу, що навіть з відносними шляхами будь-які медіа-файли поза вашою директорією медіа Gramps не працюватимуть належним чином при синхронізації з Gramps Web.

## Імпорт генеалогічних даних

Щоб імпортувати існуюче родинне дерево, використовуйте сторінку "Імпорт" і завантажте файл в будь-якому з форматів файлів, підтримуваних Gramps &ndash; дивіться [Імпорт з іншої програми генеалогії](https://www.gramps-project.org/wiki/index.php/Import_from_another_genealogy_program) у Вікі Gramps.

Якщо ви вже використовуєте Gramps Desktop, настійно рекомендується використовувати формат Gramps XML (`.gramps`), щоб забезпечити, щоб ваші онлайн та офлайн дерева використовували однакові ідентифікатори та могли бути [синхронізовані](sync.md).

## Чому немає підтримки для пакету Gramps XML?

Хоча Gramps XML (`.gramps`) є переважним форматом для імпорту даних, пакет Gramps XML (`.gpkg`) не підтримується Gramps Web. Це пов'язано з тим, що процедури імпорту та експорту для медіа-файлів не підходять для використання на веб-сервері.

Щоб імпортувати медіа-файли, що належать до імпортованого файлу `.gramps`, дивіться наступний розділ.

## Імпорт медіа-файлів

Якщо ви завантажили родинне дерево і потрібно завантажити відповідні медіа-файли, ви можете використовувати кнопку "імпортувати медіа-архів" на сторінці "Імпорт".

Вона очікує ZIP-файл з відсутніми медіа-файлами всередині. Структура папок у ZIP-файлі не повинна бути такою ж, як структура папок всередині папки медіа Gramps, оскільки файли зіставляються з медіа-об'єктами за їх контрольними сумами.

Зверніть увагу, що ця функція працює лише для файлів, які мають правильну контрольну суму в базі даних Gramps (що має бути забезпечено шляхом запуску інструменту перевірки та ремонту на першому етапі).

При переході до Gramps Web з іншої програми генеалогії, включаючи медіа-файли, рекомендується спочатку імпортувати все в Gramps Desktop, який має більше можливостей для асоціювання існуючих медіа-файлів з імпортованим деревом.
