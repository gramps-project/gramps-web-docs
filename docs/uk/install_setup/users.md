# Система користувачів

Gramps Web не призначений для відкритого доступу в Інтернеті, а лише для автентифікованих користувачів. Облікові записи користувачів можуть бути створені власником сайту через командний рядок або веб-інтерфейс, або шляхом самостійної реєстрації та подальшого затвердження власником сайту.

## Ролі користувачів

Наразі визначені наступні ролі користувачів.

Роль | ID ролі | Дозволи
-----|---------|------------
Гість | 0 | Перегляд неприхованих об'єктів
Член | 1 | Гість + перегляд прихованих об'єктів
Співробітник* | 2 | Член + додавання об'єктів
Редактор | 3 | Співробітник + редагування та видалення об'єктів
Власник | 4 | Редактор + управління користувачами
Адміністратор | 5 | Власник + редагування інших дерев у багатодеревній конфігурації

\* Зверніть увагу, що роль "Співробітник" наразі підтримується лише частково; наприклад, об'єкти сім'ї не можуть бути додані, оскільки вони передбачають модифікацію основних об'єктів особи Gramps членів сім'ї. Рекомендується використовувати інші ролі, коли це можливо.

## Налаштування, хто може використовувати AI чат

Якщо ви [налаштували AI чат](chat.md), ви побачите тут опцію вибору, які групи користувачів можуть використовувати функцію чату.

## Управління користувачами

Існує два способи управління користувачами:

- З правами власника, використовуючи веб-інтерфейс
- У командному рядку на сервері

Обліковий запис власника, необхідний для першого доступу до веб-додатку, може бути доданий у майстрі налаштування, який автоматично запускається при доступі до Gramps Web з порожньою базою даних користувачів.

### Управління користувачами в командному рядку

При використанні [Docker Compose](deployment.md) базова команда виглядає так:

```bash
docker compose run grampsweb python3 -m gramps_webapi user COMMAND [ARGS]
```

`COMMAND` може бути `add` або `delete`. Використовуйте `--help` для `[ARGS]`, щоб показати синтаксис та можливі параметри конфігурації.

### Затвердження самостійно зареєстрованих користувачів

Коли користувач самостійно реєструється, йому не надається негайний доступ. На електронну пошту власника дерева надсилається повідомлення про нову реєстрацію користувача, а користувачу надсилається запит на підтвердження його електронної адреси. Успішне підтвердження електронної адреси змінює його роль з `unconfirmed` на `disabled`. Поки обліковий запис користувача знаходиться в одній з цих двох ролей, користувач не може увійти в систему. Власник дерева повинен переглянути запит користувача та призначити йому відповідну роль, перш ніж йому буде дозволено увійти.
