# Gramps 6.0 アップグレードガイド

Gramps 6.0 は 2025 年 3 月 19 日にリリースされました。Gramps 5.2 と比較して新しいファミリーツリー データベース スキーマを使用しているため、Gramps Web を Gramps 6.0 で使用するためには追加の手順が必要です。このページでは、必要な手順について説明します。

!!! info
    最終更新日: 2025 年 5 月 4 日


## 手順の概要


これは、アップグレードに必要な手順の概要です。 
また、どの手順が Gramps Web サーバーの管理者、ファミリーツリーの所有者によって実行されるか、[sync addon](../administration/sync.md) のユーザーのみに必要かどうかも示しています。

サーバー管理者 | ツリーの所有者  | アクション
----|----|----
&nbsp; | ✓ | ファミリーツリーをバックアップする
&nbsp; | ✓ <sup>1</sup> |  [Gramps Web と Gramps Desktop を同期する](../administration/sync.md)
✓ |  | [Gramps Web を更新する](update.md)
&nbsp; | ✓ | ツリーのデータベーススキーマを更新する
&nbsp; | ✓ <sup>1</sup> | Gramps Desktop を更新する
&nbsp; | ✓ <sup>1</sup> | 更新された Sync Addon をインストールする
&nbsp; | ✓ | ファミリーツリーをバックアップする
&nbsp; | ✓ <sup>1</sup> | [Gramps Web と Gramps Desktop を同期する](../administration/sync.md)


<sup>1</sup> Gramps Web を Gramps Desktop と同期する場合にのみ必要です。


## リリース状況の概要

以下の表は、Gramps 6.0 用の Gramps Web に必要なコンポーネントがリリースされた時期の概要を示しています。

コンポーネント | リリース日
---|---
Gramps 6.0.1 | 2025-04-18
Gramps Web API 3.0.0 | 2025-05-04
Gramps Web (フロントエンド) 25.5.0 | &ndash;
Gramps Web Sync Addon 1.3.2 | 2025-04-30
SharedPostgreSQL Addon 0.1.12 | 2025-03-20


## 詳細な手順

このセクションでは、上記の個々の手順の詳細を提供します。

### ファミリーツリーをバックアップする

Gramps Web で「エクスポート」ページに移動し、「Gramps XML (ファミリーツリー)」(デフォルトオプション) を選択します。「生成」をクリックし、.gramps ファイルのダウンロードが開始されるまで待ちます。

通常の方法で Gramps Desktop でもバックアップを作成できます [こちら](https://www.gramps-project.org/wiki/index.php/How_to_make_a_backup)。

### ツリーのデータベーススキーマを更新する

アップグレード後に初めて Gramps Web にアクセスすると、次のメッセージが表示される画面が表示されます: 

> あなたが読み込もうとしているファミリーツリーは、このバージョンの Gramps Web ではサポートされていないスキーマバージョンです。したがって、そのスキーマをアップグレードしない限り、このファミリーツリーを読み込むことはできません。この操作は元に戻すことはできません。

「ファミリーツリーをアップグレード」ボタンをクリックできます。進行状況バーが表示され、完了するまでに1分もかからないはずです。心配しないでください、ブラウザウィンドウを誤って閉じても、変換はバックグラウンドで続行されます。

!!! warning
    標準外のセットアップ *なし* でバックグラウンドタスクキューを使用している場合、データベースのアップグレードが失敗し、ファミリーツリーが破損する可能性があります。Gramps Web を更新する前に、設定の「システム情報」セクションに移動し、「タスクキュー: true」が表示されていることを確認することで、バックグラウンドタスクキューを使用しているかどうかを確認できます。


### Gramps Desktop を更新する

お使いのオペレーティングシステムに対する Gramps Desktop のインストール手順に従ってください。

### 更新された Sync Addon をインストールする

Gramps 6.0 のプラグインマネージャーを使用して Gramps Web Sync アドオンをインストールできます。Gramps Web Sync を検索し、インストールをクリックして、Gramps を再起動します。
