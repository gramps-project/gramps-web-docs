# Gramps 5.2 アップグレードガイド

**Gramps 5.2** は2024年2月23日にリリースされました。Gramps 5.1と比較して新しいファミリーツリーデータベーススキーマを使用しているため、Gramps WebをGramps 5.2で使用する際には追加の手順が必要です。このページでは、必要な手順について説明します。

## 手順の概要

これは、アップグレードに必要な手順の概要です。  
また、どの手順がGramps Webサーバーの管理者、ファミリーツリーの所有者によって実行されるか、[同期アドオン](../administration/sync.md)のユーザーのみに必要かどうかも示しています。

サーバー管理者 | ツリー所有者  | アクション
----|----|----
&nbsp; | ✓ | ファミリーツリーをバックアップする
&nbsp; | ✓ <sup>1</sup> |  [Gramps WebとGramps Desktopを同期する](../administration/sync.md)
✓ |  | [Gramps Webを更新する](update.md)
&nbsp; | ✓ | ツリーのデータベーススキーマを更新する
&nbsp; | ✓ <sup>1</sup> | Gramps Desktopを更新する
&nbsp; | ✓ <sup>1</sup> | 更新されたSync Addonをインストールする
&nbsp; | ✓ | ファミリーツリーをバックアップする
&nbsp; | ✓ <sup>1</sup> | [Gramps WebとGramps Desktopを同期する](../administration/sync.md)

<sup>1</sup> Gramps WebとGramps Desktopを同期する場合のみ必要です。

## リリース状況の概要

以下の表は、Gramps 5.2用のGramps Webに必要なコンポーネントがいつリリースされたかの概要を示しています。

コンポーネント | リリース日
---|---
Gramps 5.2.0 | 2024-02-23 ✓
Gramps Web Sync Addon 1.0.4 for Gramps 5.2 | 2024-02-23 ✓
Gramps Web API 2.0.0 | 2024-02-28 ✓
Gramps Web 23.3.0 | 2024-02-28 ✓

## 詳細な手順

このセクションでは、上記の個々の手順の詳細を提供します。

### ファミリーツリーをバックアップする

Gramps Webで「エクスポート」ページに移動し、「Gramps XML (ファミリーツリー)」(デフォルトオプション)を選択します。「生成」をクリックし、.grampsファイルのダウンロードが開始されるまで待ちます。

Gramps Desktopでも[通常の方法で](https://www.gramps-project.org/wiki/index.php/How_to_make_a_backup)バックアップを作成できます。

### ツリーのデータベーススキーマを更新する

アップグレード後に初めてGramps Webにアクセスすると、次のメッセージが表示される画面が表示されます：

> あなたが読み込もうとしているファミリーツリーは、このバージョンのGramps Webではサポートされていないスキーマバージョンにあります。したがって、そのスキーマをアップグレードせずにこのファミリーツリーを読み込むことはできません。このアクションは元に戻せません。

「ファミリーツリーをアップグレード」ボタンをクリックできます。進行状況バーが表示され、完了するまでに1分もかからないはずです。ブラウザウィンドウを誤って閉じても、変換はバックグラウンドで続行されるので心配しないでください。

!!! warning
    標準でないセットアップ *なし* のバックグラウンドタスクキューを使用している場合、データベースのアップグレードが失敗し、ファミリーツリーが破損する可能性があります。Gramps Webを更新する前に、設定の「システム情報」セクションに移動し、「タスクキュー: true」が表示されているか確認することで、バックグラウンドタスクキューを使用しているかどうかを確認できます。

### Gramps Desktopを更新する

お使いのオペレーティングシステムに対するGramps Desktopのインストール手順に従ってください。

### 更新されたSync Addonをインストールする

Gramps 5.2に含まれている[新しいプラグインマネージャー](https://gramps-project.org/wiki/index.php/Addon:Plugin_Manager)を使用できます - Gramps Web Syncを検索し、インストールをクリックし、Grampsを再起動してください。
