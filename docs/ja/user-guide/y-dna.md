# Gramps Webを使用したY-DNA分析

!!! note "注意"
    この機能は、Gramps Web APIバージョン3.3.0以降およびGramps Webフロントエンドバージョン25.9.0以降が必要です。

Gramps WebのY-DNAビューでは、生のY染色体単一ヌクレオチド多型（SNP）データを使用して、個人の最も可能性の高いY-DNAハプログループを特定し、推定された時間とともに人間のY染色体ツリーにおける派生先祖を表示できます。

## Y-DNA SNPデータの取得と保存方法

Y-DNA SNPデータを取得するには、遺伝子検査サービスを通じてY-DNAテストを実施する必要があります。その結果は、各変異（SNP）を示す文字列（例：`R-BY44535`）と、変異が存在するか不在であるかを示す`+`または`-`の記号からなる変異のセットとして表されます。Gramps Webは、すべてのテストされたSNPの文字列を`SNP1+, SNP2-, SNP3+,...`の形式で、カスタムタイプ`Y-DNA`（大文字小文字を区別）として人物属性に保存することを期待しています。この属性は、Gramps WebまたはGramps Desktopで手動で作成するか、Gramps WebのY-DNAビューに移動して青い「追加」ボタンをクリックし、データを追加する人物を選択してSNP文字列を貼り付けることができます。いずれにせよ、データはGrampsデータベースの人物属性として保存されます。

さまざまな検査サービスからSNPデータを取得する方法についての指示は、[以下を参照](#instructions-for-obtaining-snp-data-from-testing-services)してください。

## 仕組み

人物がSNPデータを含む`Y-DNA`属性を持つと、Gramps Webはオープンソースの[yclade](https://github.com/DavidMStraub/yclade) Pythonライブラリを使用して、その人物の人間のY染色体ツリー上の最も可能性の高い位置を特定します。このツリーは、数万件のY-DNAテストに基づいて[YFull](https://www.yfull.com/)プロジェクトによって作成されました。Gramps WebはYFullツリーのローカルコピーを使用しているため、データは第三者に送信されることはありません。

ツリーは根から葉に向かって移動し、各ノードで、そのノードに関連付けられたSNPが人物の陽性および陰性のテストされたSNPと比較され、適切な枝がたどられます。

最終的な結果は、ツリーの根（[Y染色体の「アダム」](https://en.wikipedia.org/wiki/Y-chromosomal_Adam)）から、人物のSNPデータと一致する最も派生したクレードまでのクレードの連続です。各クレードには、そのクレードに属するYFullデータベース内のサンプルの年齢に基づいた推定年齢があります。

Y染色体は父から子へと受け継がれるため、この連続は人物の父系の系譜の一部に対応します。

## 結果の解釈方法

最も重要な情報は、ページの上部に表示される人物の最も可能性の高いハプログループです。この名前は、そのハプログループに属するテストされたサンプルの出身国など、より多くの情報を含む[YFull](https://www.yfull.com/)ウェブサイトの対応するページにリンクされています。

Gramps Webに表示される父系の祖先ツリーでは、テストされた人物の真上にあるボックスが、その人物のハプログループに属するすべてのテストされたサンプルの最も最近の共通祖先（MRCA）です。この祖先に表示される日付は、彼の推定されるおおよその誕生日です。彼の上にいる祖先は、このハプログループを定義する変異が最初に現れた祖先です。

Y染色体の変異率が遅いため、MRCAは数百年前にさかのぼることがあります。稀なハプログループ（つまり、これまでにテストされた人が少ないハプログループ）では、数千年前にさかのぼることもあります。

## 検査サービスからSNPデータを取得するための指示

### [YSEQ](https://www.yseq.net/)

「マイアカウント」にログインしたら、「マイ結果 / アレルの表示」に移動し、ページの下部に移動します。「アレルリストコンパクト」というテキストフィールドは、Gramps Web専用に追加されており、`Y-DNA`属性に貼り付けるのにちょうど適切な形式になっています。
